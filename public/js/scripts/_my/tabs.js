var Tabs=function(e){const t=".content-notes";return e.populate=(e,t)=>{e.tab()},e.gotoRoute=e=>{window.location=e},e.showNotes=(e,s,a=!1)=>{const n=$("#"+e+"-notes > .spinner-border"),o=$("#"+e+"-notes-tab");if(n.show(),o.hasClass("loaded")&&!a)return n.hide(),!1;axios.get("/api/v1/notes/all/"+e+"/"+s).then((e=>{const s=e.data,a=s.data;let i="";n.hide(),"success"===s.status&&Object.keys(a).length>0?(i+="<div class='row d-print-block'>\n                        <div class='col-12 mx-auto'>\n                            <div class='card'>\n                                <div class='card-header'>\n                                    <h2 class='fw-bolder text-primary mx-auto'>Note History</h2>\n                                </div>\n                                <div class='card-body'>",i+=a.html,i+="</div>\n                                            </div>\n                                        </div>\n                                    </div>",o.find(t).html(i)):"success"===s.status&&o.find(t).html("\n                    <div class='row'>\n                        <div class='col-12 mx-auto'>\n                            <div class='card'>\n                                <div class='card-header'>\n                                    <h2 class='fw-bolder text-primary mx-auto'>Note History</h2>\n                                </div>\n                                <div class='card-body'><p> No notes added yet. </p></div>\n                            </div>\n                        </div>\n                    </div>")})).catch((e=>{n.hide(),console.log(e)}))},e.deleteNote=(e,t)=>{Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then((function(s){s.isConfirmed&&axios.delete("/api/v1/notes/"+t).then((t=>{let s=t.data;toastr.success(s.message,"Success!",{closeButton:!0,tapToDismiss:!0,timeOut:2e3}),$(e.target).parents("li.list-group-item").remove()})).catch((e=>{const t=e.response.data;toastr.error(t.errors[0].message,"Error!",{closeButton:!0,tapToDismiss:!0,timeOut:2e3})}))})).catch((e=>{console.error("Error deleting note:",e),toastr.error("Error deleting note.","Error",{closeButton:!0,tapToDismiss:!0,timeOut:2e3})}))},e.editNote=(e,t)=>{const s=$("#note_input_wrapper").find("textarea.content-tinymce").attr("id")||"note_body2",a=tinymce.get(s);if(!a)return void toastr.warning("Editor not initialized. Please refresh the page.","Error",{closeButton:!0,tapToDismiss:!0});const n=$(e.target).parents("li.list-group-item").find(".note-content").html();$("#note_input_wrapper").find(".divider-text").text("Update Note"),$("#note_input_wrapper").find('button[type="submit"]').text("Update"),a.setContent(n),$("#note_id").length>0?$("#note_id").val(t):$('<input type="hidden" id="note_id" name="note_id" value="'+t+'" />').insertAfter($("#note_input_wrapper").find("#add_note_input")),$("#cancelNote").length<1&&$('<button id="cancelNote" class="btn btn-secondary me-1 waves-effect waves-float waves-light" onclick="Tabs.cancelNoteEditing()">Cancel</button>').insertAfter($("#note_input_wrapper").find('button[type="submit"]')),$("#note_input_wrapper").find("#add_note_input").focus()},e.cancelNoteEditing=()=>{const e=$("#note_input_wrapper").find("textarea.content-tinymce").attr("id")||"note_body2",t=tinymce.get(e);$("#note_input_wrapper").find(".divider-text").text("Add Note"),t&&t.setContent(""),$("#note_input_wrapper").find('[type="submit"]').text("Save"),$("#note_input_wrapper").find("#cancelNote").remove(),$("#note_input_wrapper").find("#note_id").remove(),$("#note_input_wrapper").find("#add_note_input").focus()},e.saveNote=(t,s,a)=>{const n=tinymce.get(a);if(!n)return void toastr.warning("Editor not initialized. Please refresh the page.","Error",{closeButton:!0,tapToDismiss:!0});let o=n.getContent();o.length>0?axios.post("/api/v1/notes",{id:$("#note_input_wrapper").find("#note_id").val()||null,note_body:o,subject_type:t,subject_id:s}).then((a=>{const o=a.data;toastr.success(o.message?o.message:"Note added successfully.","Success",{closeButton:!0,tapToDismiss:!0}),n.setContent(""),e.showNotes(t,s,!0),e.cancelNoteEditing()})).catch((e=>{console.log(e)})):toastr.warning("Note input is required.","Error",{closeButton:!0,tapToDismiss:!0})},e.togglePinNote=(t,s,a)=>{const n="UnPin"===$(t.target).text().trim(),o=n?"Unpin":"Pin",i=n?"This note will no longer appear at the top.":"This note will appear at the top of the list.",r=n?"Yes, unpin it!":"Yes, pin it!";Swal.fire({title:`${o} this note?`,text:i,icon:"info",showCancelButton:!0,confirmButtonText:r,customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-secondary ms-1"},buttonsStyling:!1}).then((function(t){t.isConfirmed&&axios.post("/api/v1/notes/"+s+"/pin",{is_pinned:!n}).then((t=>{let s=t.data;toastr.success(s.message,"Success!",{closeButton:!0,tapToDismiss:!0,timeOut:2e3}),e.showNotes(a,s.data.subject_id,!0),$("#pinned-notes-alert").find("span").text("Important notes")})).catch((e=>{const t=e.response.data.errors[0];toastr.error(t.message||`Error ${o.toLowerCase()}ning note.`,"Error!",{closeButton:!0,tapToDismiss:!0,timeOut:2e3})}))}))},e}(Tabs||{}),Student=function(e){const t=$("#student-enrolment-tab"),s=$("#student-documents-tab > .content-documents"),a=$("#student-assessments-tab"),n=$("#student-activities-tab"),o=($("#student-history-tab"),$("#student-training-plan-tab")),i={"step-1":{title:"Personal Info",subtitle:"Step #1",slug:"step-1"},"step-2":{title:"Education Details",subtitle:"Step #2",slug:"step-2"},"step-3":{title:"Employer Details",subtitle:"Step #3",slug:"step-3"},"step-4":{title:"Requirements",subtitle:"Step #4",slug:"step-4"},"step-5":{title:"Pre-Training Review",subtitle:"Step #5",slug:"step-5"},"step-6":{title:"Agreement",subtitle:"Step #6",slug:"step-6"}};return e.appendToURL=e=>{},e.overview=e=>{console.log("Student student_id: "+e)},e.enrolment=e=>{if($("#student-enrolment > .spinner-border").show(),t.hasClass("loaded"))return $("#student-enrolment > .spinner-border").hide(),!1;axios.get("/api/v1/student/enrolment/"+e+"/onboard").then((e=>{const s=e.data,a=s.data;if(s.success&&void 0!==a.enrolment_value){$("#student-enrolment > .spinner-border").hide();let e="<div class=' d-print-block'><div class='row d-flex enrolment-grid'>";$.each(a.enrolment_value,(function(t,s){0!==s.length&&(e+=`<div class='col-md-4 col-12' id='${t}'>\n                    <div class='card'>\n                        <div class='card-header'>\n                            <h2 class='fw-bolder text-primary'>${i[t].title}</h2>\n                        </div>\n                        <div class='card-body'>\n                            <div class='clearfix divider divider-secondary divider-start-center '>\n                                <span class='divider-text text-dark'> ${i[t].subtitle}</span>\n                            </div>`,$.each(s,(function(s,a){let n=a.key,o=a.value;"document1_type"!=n&&"document1"!=n&&"document2_type"!=n&&"document2"!=n&&("step-1"===t&&null!=o&&void 0!==o?(e+=`<div class='row mb-2'>\n                                    <span class='fw-bolder me-25 col col-sm-5 text-end'>${n.toProperCase()}</span>`,e+=`<span class='col col-sm-5'>${o}</span>`,e+="</div>"):"step-1"!==t&&(e+=`<div class='row mb-2'>\n                                    <span class='fw-bolder me-25 col col-sm-5 text-end'>${"usi_number"==n?"USI Number":"nominate_usi"==n?"Nominate USI":n.toProperCase()}</span>`,e+=`<span class='col col-sm-5'>${o}</span>`,e+="</div>"))})),e+="</div>\n                    </div>\n                </div>")})),e+="</div></div>",t.addClass("loaded").html(e)}})).catch((e=>{$("#student-enrolment > .spinner-border").hide(),console.log(e),e.response&&404===e.response.status&&t.html(" <div class='row'>\n                <div class='col-12 mx-auto'>\n                    <div class='card'>\n                        <div class='card-header'>\n                            <h2 class='fw-bolder text-primary 'mx-auto>Enrolment missing</h2>\n                        </div>\n                        <div class='card-body'><p> Student has not completed enrolment yet. </p></div>\n                    </div>\n                </div>")}))},e.showDocuments=(e,t=!1,a=!1)=>{if($("#student-documents > .spinner-border").show(),s.hasClass("loaded")&&!t)return $("#student-documents > .spinner-border").hide(),!1;axios.get("/api/v1/documents/all/"+e).then((e=>{const t=e.data,n=t.data;if($("#student-documents > .spinner-border").hide(),"success"===t.status&&Object.keys(n).length>0){let e="<div class=' d-print-block'><div class='row d-flex enrolment-grid'>";e+="<div class='col-md-12 col-12 mx-auto'>\n                    <div class='card'>\n                        <div class='card-header'>\n                            <h2 class='fw-bolder text-primary mx-auto'>Documents</h2>\n                        </div>\n                        <div class='card-body'>",$.each(n,(function(t,s){e+=`<div class='row mb-2 document'>\n                            <span class='fw-bolder m-25 col-sm-4 text-end'>${s.file_name.toProperCase()}</span>`,e+="<span class='col-sm-6'>",e+=`<span class="col-2"> <a href="/api/v1/documents/${s.id}" download='${s.file_name}' class='item-download me-1 btn btn-secondary btn-sm d-print-none' title='Download ${s.file_name}'>\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download">\n  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>\n  <polyline points="7 10 12 15 17 10"/>\n  <line x1="12" y1="15" x2="12" y2="3"/>\n</svg>\n                            Download</a></span>`,e+=`<span class="col-2"> <a href="${s.file_path}" target="_blank" class='item-view me-1 btn btn-primary btn-sm d-print-none' title='View ${s.file_name}' >\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye">\n  <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z"/>\n  <circle cx="12" cy="12" r="3"/>\n</svg>\n                            View</a></span>`,!a||s.file_path&&s.file_path.includes("/agreement/")||(e+=`<span class="col-2"> <a class='item-delete me-1 btn btn-danger btn-sm d-print-none' title='Remove' onclick='Student.deleteDocument(event, ${s.user_id}, ${s.id})'>\n                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x-square"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line></svg> Remove</a></span>`),e+="</span>",e+="</div>"})),e+="</div>\n                    </div>\n                    </div>\n                </div>",e+="</div>",s.addClass("loaded").html(e)}else"success"===t.status&&s.html(" <div class='row'>\n                <div class='col-12 mx-auto'>\n                    <div class='card'>\n                        <div class='card-header'>\n                            <h2 class='fw-bolder text-primary mx-auto'>Documents not found</h2>\n                        </div>\n                        <div class='card-body'><p> No documents uploaded yet. </p></div>\n                    </div>\n                </div>")})).catch((e=>{$("#student-documents > .spinner-border").hide(),console.log(e)}))},e.deleteDocument=(e,t,s)=>{Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then((function(t){t.isConfirmed&&axios.delete("/api/v1/documents/"+s).then((t=>{let s=t.data;toastr.success(s.message,"Success!",{closeButton:!0,tapToDismiss:!0,timeOut:2e3}),$(e.target).parents(".document").remove()})).catch((e=>{const t=e.response.data;toastr.error(t.errors[0].message,"Error!",{closeButton:!0,tapToDismiss:!0,timeOut:2e3})}))})).catch((e=>{console.error("Error deleting document:",e),toastr.error("Error deleting document.","Error",{closeButton:!0,tapToDismiss:!0,timeOut:2e3})}))},e.saveDocument=(t,s,a=!1)=>{let n=new FormData;const o=document.getElementById("student_document");if(o.files[0])toastr.warning("File missing.","Error",{closeButton:!0,tapToDismiss:!0});else{n.append("file",o.files[0]),n.append("id",s.id||null),n.append("title",s.title),n.append("student_id",t),n.append("_token",$('meta[name="csrf-token"]').attr("content"));let i={headers:{"Content-Type":"multipart/form-data",Accept:"application/json"},timeout:1e4,retry:3,retryDelay:1e4};axios.post("/api/v1/documents/"+t,n,i).then((s=>{const n=s.data;!0===n.success?(toastr.success(n.message?n.message:"Document uploaded successfully.","Success",{closeButton:!0,tapToDismiss:!0}),e.showDocuments(t,!0,a)):toastr.warning("Unable to upload document","Error",{closeButton:!0,tapToDismiss:!0}),e.cancelDocumentUploading()})).catch((e=>{console.log(e)}))}},e.cancelDocumentUploading=()=>!1,e.history=e=>{$("#student-history > .spinner-border").show(),Calendar.init("#student-history",e)},e.trainingPlan=(e,t=!1)=>{if($("#student-training-plan > .spinner-border").show(),o.hasClass("loaded")&&!t)return $("#student-training-plan > .spinner-border").hide(),!1;axios.get("/api/v1/student/training-plan/"+e).then((e=>{const t=e.data,s=t.data;if($("#student-training-plan > .spinner-border").hide(),"success"===t.status&&Object.keys(s).length>0){let e="<div class='d-print-block'><div class='row d-flex enrolment-grid '>";e+="<div class='col-md-12 col-12 mx-auto'>\n                    <div class='card'>\n                        <div class='card-header'>\n                            <h2 class='fw-bolder text-primary mx-auto'>Training Plan</h2>\n                        </div>\n                        <div class='card-body'>",e+=s.html,e+="</div></div></div></div></div>",o.addClass("loaded").html(e)}else"success"===t.status&&o.html(" <div class='row'>\n                <div class='col-12 mx-auto'>\n                    <div class='card'>\n                        <div class='card-header'>\n                            <h2 class='fw-bolder text-primary mx-auto'>Student training not found</h2>\n                        </div>\n                        <div class='card-body'><p> Student has not yet enrolled in any course. </p></div>\n                    </div>\n                </div>")})).catch((e=>{$("#student-training-plan > .spinner-border").hide(),console.log(e)}))},e.assessments=(e,t=!1)=>{if($("#student-assessments > .spinner-border").show(),a.hasClass("loaded")&&!t)return $("#student-assessments > .spinner-border").hide(),!1;axios.get("/api/v1/student/assessments/"+e).then((e=>{const t=e.data,s=t.data;if($("#student-assessments > .spinner-border").hide(),"success"===t.status&&Object.keys(s).length>0){let e="<div class=' d-print-block'><div class='row d-flex enrolment-grid '>";e+="<div class='col-md-12 col-12 mx-auto'>\n                    <div class='card'>\n                        <div class='card-header'>\n                            <h2 class='fw-bolder text-primary mx-auto'>Assessments Result</h2>\n                        </div>\n                        <div class='card-body'>",e+=s.html,e+="</div></div></div></div></div>",a.addClass("loaded").html(e)}else"success"===t.status&&a.html(" <div class='row'>\n                <div class='col-12 mx-auto'>\n                    <div class='card'>\n                        <div class='card-header'>\n                            <h2 class='fw-bolder text-primary mx-auto'>No assessments found!</h2>\n                        </div>\n                        <div class='card-body'><p> Student has not yet submitted assessments in any assigned course(s). </p></div>\n                    </div>\n                </div>")})).catch((e=>{$("#student-assessments > .spinner-border").hide(),console.log(e)}))},e.activities=(t,s=!1)=>{if($("#student-activities > .spinner-border").show(),n.hasClass("loaded")&&!s)return $("#student-activities > .spinner-border").hide(),!1;axios.get("/api/v1/student/activities/"+t).then((s=>{if($("#student-activities > .spinner-border").hide(),200===s.status){if(n.html(s.data),$("#reportrange").length&&e.initializeDatePicker(),!$.fn.DataTable.isDataTable("#student-activities-table")){const s=$("#student-activities-table").DataTable({processing:!0,serverSide:!0,paging:!1,ajax:{url:`/api/v1/student/activities/${t}/data`,dataSrc:"data",error:function(e,t,s){console.error("Error:",t),console.log("XHR:",e.responseText)},data:function(e){e.start_date=$("#start_date").val(),e.end_date=$("#end_date").val(),e.period=$("#period").val()}},columns:[{data:"user_id",title:"User ID",orderable:!1,searchable:!1},{data:"activity_period",title:"Activity Period",orderable:!1,searchable:!1},{data:"total_hours",title:"Total Hours",orderable:!1,searchable:!1},{data:"activity_duration",title:"Activity Duration",orderable:!1,searchable:!1},{data:"logged",title:"Logged Time",orderable:!1,searchable:!1},{data:"total_hours_completed",title:"Total Hours Completed",orderable:!1,searchable:!1}],searching:!1,ordering:!1});e.setupFilters(t,s)}$("#student-activities > .spinner-border").hide(),n.addClass("loaded")}})).catch((e=>{$("#student-activities > .spinner-border").hide(),console.log(e),n.html("<p>Error loading activities. Please try again.</p>")}))},e.setupFilters=(e,t)=>{$("#submitFilters").off("click").on("click",(()=>{t&&t.ajax?t.ajax.reload(null,!1):console.error("DataTable instance is invalid or ajax is undefined.")})),$("#clearFilters").off("click").on("click",(()=>{$("#filterForm")[0].reset(),t&&t.ajax?t.ajax.reload(null,!1):console.error("DataTable instance is invalid or ajax is undefined.")}))},e.initializeDatePicker=()=>{let e=null,t=null,s=moment().subtract(1,"year"),a=moment(),n=function(s,a){$("#reportrange").find("span").html(s.format("MMMM D, YYYY")+" - "+a.format("MMMM D, YYYY")),$("#start_date").val(s.format("DD-MM-YYYY")),$("#end_date").val(a.format("DD-MM-YYYY")),e=s.format("YYYY-MM-DD"),t=a.format("YYYY-MM-DD")};$("#reportrange").daterangepicker({startDate:s,endDate:a,autoApply:!0,autoUpdateInput:!0,ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")],"Last 6 Months":[moment().subtract(6,"month"),moment()],"Last 1 year":[moment().subtract(1,"year"),moment()]}},n),n(s,a)},e.assignCourse=e=>{var t=$("#assign-course-form");t.length&&t.validate({debug:!0,submitHandler:function(t,s){s.preventDefault();const a=$(t).serialize();t.valid()&&axios.post("/api/v1/students/"+e+"/assign_course",{data:a}).then((e=>{})).catch((e=>{console.log(e.response)}))}})},e.resetProgress=(e,t)=>{axios.post("/api/v1/students/progress/reset",{student:e,course:t}).then((e=>{const t=e.data;toastr.success(t.message?t.message:"Progress reset successfully.","Success",{closeButton:!0,tapToDismiss:!0})})).catch((e=>{console.log(e)}))},e.reEvaluateCourseProgress=(e,t)=>{axios.post("/api/v1/students/progress/evaluate",{student:e,course:t}).then((e=>{const t=e.data;toastr.success(t.message?t.message:"Course progress updated successfully.","Success",{closeButton:!0,tapToDismiss:!0}),setTimeout((()=>{window.location.reload()}),1e3)})).catch((e=>{console.log(e)}))},e.issueCertificate=(e,t,s)=>{axios.post("/api/v1/students/certificate/issue",{student:e,course:t,next_course_id:s,cert_issued_on:$("#cert_issued_on").val()}).then((e=>{const t=e.data;toastr.success(t.message?t.message:"Course completion certificate issued.","Success",{closeButton:!0,tapToDismiss:!0}),setTimeout((()=>{window.location.reload()}),1e3)})).catch((e=>{console.log(e)}))},e}(Student||{}),Company=function(e){const t=$("#company-students-tab"),s=$("#company-leaders-tab");return e.students=(e,s=!1)=>{const a=$("#company-students > .spinner-border");if(a.show(),t.hasClass("loaded")&&!s)return a.hide(),!1;axios.get("/api/v1/company/students/"+e).then((s=>{if(a.hide(),200===s.status){if(t.html(s.data),!$.fn.DataTable.isDataTable("#company-students-table")){$("#company-students-table").DataTable({processing:!0,serverSide:!0,paging:!1,columnDefs:[{targets:0,visible:!0,render:function(e,t,s,a){return'<a href="/account-manager/students/'+s.id+'/edit" class="item-edit me-1 text-secondary" title="Edit">'+feather.icons.edit.toSvg({class:"font-small-4"})+'</a><a href="/account-manager/students/'+s.id+'" class="item-view me-1 text-primary" title="View Details">'+feather.icons["file-text"].toSvg({class:"font-small-4"})+"</a>"}},{targets:1,visible:!0},{targets:2,visible:!0}],ajax:{url:`/api/v1/company/students/${e}/data`,dataSrc:"data",error:function(e,t,s){console.error("Error:",t),console.log("XHR:",e.responseText)},data:function(e){}},columns:[{data:"id",title:"",orderable:!1,searchable:!1},{data:"first_name",title:"First Name",orderable:!1,searchable:!1},{data:"last_name",title:"Last Name",orderable:!1,searchable:!1},{data:"displayable_active",title:"Status",orderable:!1,searchable:!1},{data:"email",title:"Email",orderable:!1,searchable:!1},{data:"detail.phone",title:"Phone",orderable:!1,searchable:!1},{data:"detail.last_logged_in",title:"Last Signed In",orderable:!1,searchable:!1},{data:"created_at",title:"Created on",orderable:!1,searchable:!1}],buttons:[{extend:"collection",className:"btn btn-outline-secondary dropdown-toggle me-2",text:feather.icons.share.toSvg({class:"font-small-4 me-50"})+"Export",buttons:[{extend:"csv",text:feather.icons["file-text"].toSvg({class:"font-small-4 me-50"})+"CSV",className:"dropdown-item",exportOptions:{columns:":visible"}}]}],searching:!1,ordering:!1})}a.hide(),t.addClass("loaded")}})).catch((e=>{a.hide(),console.log(e),t.html("<p>Error loading students. Please try again.</p>")}))},e.leaders=(e,t=!1)=>{const a=$("#company-leaders > .spinner-border");if(a.show(),s.hasClass("loaded")&&!t)return a.hide(),!1;axios.get("/api/v1/company/leaders/"+e).then((t=>{if(a.hide(),200===t.status){if(s.html(t.data),!$.fn.DataTable.isDataTable("#company-leaders-table")){$("#company-leaders-table").DataTable({processing:!0,serverSide:!0,paging:!1,columnDefs:[{targets:0,visible:!0,render:function(e,t,s,a){return'<a href="/account-manager/leaders/'+s.id+'/edit" class="item-edit me-1 text-secondary" title="Edit">'+feather.icons.edit.toSvg({class:"font-small-4"})+'</a><a href="/account-manager/leaders/'+s.id+'" class="item-view me-1 text-primary" title="View Details">'+feather.icons["file-text"].toSvg({class:"font-small-4"})+"</a>"}},{targets:1,visible:!0},{targets:2,visible:!0}],ajax:{url:`/api/v1/company/leaders/${e}/data`,dataSrc:"data",error:function(e,t,s){console.error("Error:",t),console.log("XHR:",e.responseText)},data:function(e){}},columns:[{data:"id",title:"",orderable:!1,searchable:!1},{data:"first_name",title:"First Name",orderable:!1,searchable:!1},{data:"last_name",title:"Last Name",orderable:!1,searchable:!1},{data:"detail.position",title:"Position",orderable:!1,searchable:!1},{data:"email",title:"Email",orderable:!1,searchable:!1},{data:"detail.phone",title:"Phone",orderable:!1,searchable:!1},{data:"detail.last_logged_in",title:"Last Signed In",orderable:!1,searchable:!1},{data:"detail.first_login",title:"First Login",orderable:!1,searchable:!1},{data:"detail.first_enrollment",title:"First Enrolment",orderable:!1,searchable:!1},{data:"created_at",title:"Created on",orderable:!1,searchable:!1}],buttons:[{extend:"collection",className:"btn btn-outline-secondary dropdown-toggle me-2",text:feather.icons.share.toSvg({class:"font-small-4 me-50"})+"Export",buttons:[{extend:"csv",text:feather.icons["file-text"].toSvg({class:"font-small-4 me-50"})+"CSV",className:"dropdown-item",exportOptions:{columns:":visible"}}]}],searching:!1,ordering:!1})}a.hide(),s.addClass("loaded")}})).catch((e=>{a.hide(),console.log(e),s.html("<p>Error loading leaders. Please try again.</p>")}))},e}(Company||{});window;
