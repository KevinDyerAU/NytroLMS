var Question=function(e){return e.Remove=(e,n=!1)=>{Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then((function(t){if(t.isConfirmed){!0===n&&axios.delete("/api/v1/questions/"+e).then((e=>{console.log(e),t.value&&Swal.fire({icon:"success",title:"Deleted!",text:"The Question has been deleted.",customClass:{confirmButton:"btn btn-success"}})})).catch((e=>{console.log(e),toastr.error("Unable to delete question.","Error!",{positionClass:"toast-bottom-center",rtl:!1})}));let o=$("#questions"),i=o.find(".question-navigation"),l=o.find(".question-content");$("#question-"+e).fadeOut("slow").remove(),$("#questionNo"+e).parent().fadeOut("slow").remove(),i.find("li.nav-item:last > a").addClass("active").attr("aria-expanded","true"),l.find(".tab-pane:last").addClass("active").attr("aria-expanded","true"),i.find("li.nav-item").length<1&&$("#saveQuiz").hide()}})).catch((e=>{console.log("error",e),422===e.response.status?toastr.error(e.response.data.message,"Error!",{positionClass:"toast-bottom-center",rtl:!1}):toastr.error("Unable to delete question.","Error!",{positionClass:"toast-bottom-center",rtl:!1})}))},e.Add=()=>{let n=$("#questions"),t=n.find(".question-navigation"),o=n.find(".question-content"),i={index:0},l=0;t.find("li.nav-item").each((function(){let e=$(this).attr("id"),n=parseInt(e.substring(5));n>l&&(l=n),i.index=parseInt($(this).find("input").val())+1,$(this).find("a").attr("aria-expanded","false").removeClass("active")}));let a=parseInt(l)+1;$("#saveQuiz").show();let s=t.find("li.nav-item").length;e.populateNav(a,i.index,t,s),e.populateContent(o,a,i.index,s),e.initSelect2()},e.populateNav=(e,n,t,o)=>{let i=`\n        <li class='nav-item' id="item-${e}">\n            <a\n                class='nav-link active'\n                id='questionNo${e}'\n                data-bs-toggle='pill'\n                href='#question-${e}'\n                aria-expanded='true'\n                role='tab'\n            >\n                <span class='fw-bold'>Question #${o+1}</span>\n                <input type='hidden' name='question[${e}][order]' value='${n}'>\n            </a>\n        </li>`;t.append(i)},e.generateUUID=()=>{let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){let t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==n?t:3&t|8).toString(16)}))},e.populateContent=(n,t,o,i)=>{n.find(".tab-pane").each((function(){$(this).attr("aria-expanded","false").removeClass("active")}));let l=`<div role='tabpanel' class='tab-pane active'\n                                 id='question-${t}'\n                                 aria-labelledby='question'\n                                 aria-expanded='true'>\n                                     <div class='card'>\n                                          <div class='card-body'>\n                                          <h4 class='card-title'>\n                                            <input type='hidden' name='question[${t}][slug]' id='slug_${t}'\n                                                   value='${e.generateUUID()}' />\n                                            <span>Question No. ${i+1}</span>\n                                            <button onclick='Question.Remove(${t})'\n                                                    type='button' class='btn btn-flat-danger btn-sm border-left-light end waves-effect waves-float waves-light'>\n                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2 me-50"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg> <span>Delete</span>\n                                            </button>\n                                        </h4>\n                                            <div class='row'>\n                                                <div class='d-flex flex-column'>\n                                                  <label class='form-check-label mb-50' for='question[${t}][required]'>Is Required?</label>\n                                                  <div class='form-check form-switch form-check-primary'>\n                                                    <input type='checkbox' class='form-check-input' name='question[${t}][required]' id='question${t}_required' value='1' checked />\n                                                    <label class='form-check-label' for='question[${t}][required]'>\n                                                      <span class='switch-icon-left'><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg></span>\n                                                      <span class='switch-icon-right'><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></span>\n                                                    </label>\n                                                  </div>\n                                                </div>\n                                                <div class='col-md-6 col-12'>\n                                                    <div class='mb-1'>\n                                                        <label for='question[${t}][title]' class='form-label required'>Question Title</label>\n                                                        <input type='text' name='question[${t}][title]' id='title_${t}' class='form-control' aria-label='title' tabindex='1' autofocus />\n                                                    </div>\n                                                </div>\n                                                <div class='col-md-6 col-12'>\n                                                    <label class='form-label required' for='answer_type'>Question Type:</label>\n                                                    <select data-placeholder='Select Question Type'\n                                                            class='select2 form-select'\n                                                            id='answer_type_${t}'\n                                                            name='question[${t}][answer_type]' tabindex='2'\n                                                            onchange='Question.typeSelected(this, ${t})'>\n                                                        <option value='ESSAY'>Essay</option>\n                                                        <option value='FILE'>Upload</option>\n                                                        <option value='SCQ'>Single Choice</option>\n                                                        <option value='MCQ'>Multiple Choice</option>\n                                                        <option value='SORT'>Sorting Choice</option>\n                                                        <option value='MATRIX'>Matrix Choice</option>\n                                                        <option value='BLANKS'>Fill in the Blank</option>\n                                                        <option value='ASSESSMENT'>Assessment (Survey)</option>\n                                                        <option value='SINGLE'>Short Answer</option>\n                                                        <option value='TABLE'>Table</option>\n                                                    </select>\n                                                </div>\n                                                <div class='col-12'>\n                                                  <div class='mb-1' id='handle_content_${t}'>\n                                                    <label for='question[${t}][content]' class='form-label required'>Question Content</label>\n                                                    <textarea name='question[${t}][content]' id='content_${t}' class='form-control' tabindex='3'></textarea>\n                                                  </div>\n                                                </div>\n                                            </div>\n                                            <div class='row' id='extras_${t}'>\n                                            </div>\n                                      </div>\n                                    </div>\n                                </div>`;n.append(l),"function"==typeof window.initCKEditor5ById?window.initCKEditor5ById("content_"+t,ckEditorOptions):CKEDITOR.replace("content_"+t,ckEditorOptions)},e.initSelect2=()=>{$(".select2").each((function(){var e=$(this);e.wrap('<div class="position-relative form-select-control'+e.data("class")+'"></div>'),e.select2({dropdownAutoWidth:!0,width:"100%",dropdownParent:e.parent(),allowClear:!0})}))},e.typeSelected=(n,t)=>{let o=$("#extras_"+t);switch(n.value){case"ESSAY":e.showESSAYInput(t,o);break;case"FILE":e.showFILEInput(t,o);break;case"SORT":e.showSORTInput(t,o);break;case"MATRIX":e.showMATRIXInput(t,o);break;case"SCQ":e.showSCQInput(t,o);break;case"MCQ":e.showMCQInput(t,o);break;case"TABLE":e.showTABLEInput(t,o);break;default:o.html("")}},e.showESSAYInput=(e,n)=>{n.html("")},e.showBLANKSInput=(e,n)=>{n.html("")},e.showASSESSMENTInput=(e,n)=>{n.html("")},e.showFILEInput=(e,n)=>{let t=`<div class='col-md-6 col-12'>\n                          <div class='mb-1'>\n                            <label for='question[${e}][options][file][types_allowed]' class='form-label required'>Input File Type</label>\n                            <input type='text' name='question[${e}][options][file][types_allowed]' id='files_options_${e}'\n                            value='pdf,doc,docx,zip'  tabindex='4'\n                            class='form-control' aria-label='Allowed File Types'/>\n                          </div>\n                        </div>`;n.html(t)},e.showSCQInput=(e,n)=>{let t=`<div class='col-12'>\n                          <div class='row d-flex align-items-start' id='scq_options_${e}_holder'>\n                              <div class='border-bottom-light col-md-6 col-12 option-container' id='option_${e}_1_holder' data-option='1'>\n                                  <div class='option col'>\n                                      <div class='mb-1'>\n                                        <label for='question[${e}][options][scq][1]' class='form-label required'>Add an Option</label>\n                                        <input type='text' name='question[${e}][options][scq][1]'  tabindex='4' id='scq_options_${e}_1' class='form-control' aria-label='Single Choice Option'/>\n                                      </div>\n                                  </div>\n                                  <div class='form-check form-check-inline option-correct col'>\n                                      <input\n                                        class='form-check-input'\n                                        type='radio'\n                                        name='question[${e}][correct_answer]'\n                                        id='scq_correct_${e}_1'\n                                        value='1'  tabindex='5'\n                                      />\n                                      <label class='form-check-label' for='question[${e}][correct_answer]'>Is Correct?</label>\n                                  </div>\n                              </div>\n                          </div>\n                          <div class='col-md-2 col-12 mb-50 mt-2' id='scq_options_${e}_add' >\n                              <div class='mb-1'>\n                                  <button type='button' class='btn btn-outline-success btn-sm text-nowrap px-1 waves-effect' onclick='Question.AddOption(${e}, "scq_options_${e}_holder","scq")'>\n                                      <span><svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-plus me-50 font-small-4'><line x1='12' y1='5' x2='12' y2='19'></line><line x1='5' y1='12' x2='19' y2='12'></line></svg>Add More Options</span>\n                                  </button>\n                              </div>\n                          </div>\n                      </div>`;n.html(t)},e.showMCQInput=(e,n)=>{let t=`<div class='col-12'>\n                          <div class='row d-flex align-items-start' id='mcq_options_${e}_holder'>\n                              <div class='border-bottom-light col-md-6 col-12 option-container' id='option_${e}_1_holder' data-option='1'>\n                                  <div class='option col'>\n                                      <div class='mb-1'>\n                                        <label for='question[${e}][options][mcq][1]' class='form-label required'>Add an Option</label>\n                                        <input type='text' name='question[${e}][options][mcq][1]'  tabindex='4' id='mcq_options_${e}_1' class='form-control' aria-label='Single Choice Option'/>\n                                      </div>\n                                  </div>\n                                  <div class='form-check form-check-inline option-correct col'>\n                                      <input\n                                        class='form-check-input'\n                                        type='checkbox'\n                                        name='question[${e}][correct_answer][1]'\n                                        id='mcq_correct_${e}_1'\n                                        value='1'  tabindex='5'\n                                      />\n                                      <label class='form-check-label' for='question[${e}][correct_answer][1]'>Is Correct?</label>\n                                  </div>\n                              </div>\n                          </div>\n                          <div class='col-md-2 col-12 mb-50 mt-2' id='mcq_options_${e}_add' >\n                              <div class='mb-1'>\n                                  <button type='button' class='btn btn-outline-success btn-sm text-nowrap px-1 waves-effect' onclick='Question.AddOption(${e}, "mcq_options_${e}_holder", "mcq")'>\n                                      <span><svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-plus me-50 font-small-4'><line x1='12' y1='5' x2='12' y2='19'></line><line x1='5' y1='12' x2='19' y2='12'></line></svg>Add More Options</span>\n                                  </button>\n                              </div>\n                          </div>\n                      </div>`;n.html(t)},e.showSORTInput=(e,n)=>{let t=`<div class='col-12'>\n                           <div class='row d-flex align-items-start' id='sort_options_${e}_holder'>\n                              <div class='border-bottom-light col-md-6 col-12 option-container' id='sort_option_${e}_1_holder' data-option='1'>\n                                  <div class='option col'>\n                                      <div class='mb-1'>\n                                        <label for='question[${e}][options][sort][1]' class='form-label required'>Add an Option</label>\n                                        <div class='form-inline option-answer col-12 col-md-10'>\n                                            <input type='text' name='question[${e}][options][sort][1]'  tabindex='4' id='sort_options_${e}_1_text' class='form-control' aria-label='Option Text'/>\n                                        </div>\n                                      </div>\n                                  </div>\n                              </div>\n                          </div>\n                          <div class='col-md-2 col-12 mb-50 mt-2' id='sort_options_${e}_add' >\n                              <div class='mb-1'>\n                                  <button type='button' class='btn btn-outline-success btn-sm text-nowrap px-1 waves-effect' onclick='Question.AddSortOption(${e}, "sort_options_${e}_holder")'>\n                                      <span><svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-plus me-50 font-small-4'><line x1='12' y1='5' x2='12' y2='19'></line><line x1='5' y1='12' x2='19' y2='12'></line></svg>Add More Options</span>\n                                  </button>\n                              </div>\n                          </div>\n                      </div>`;n.html(t)},e.showMATRIXInput=(e,n)=>{let t=`<div class='col-12'>\n                           <div class='row d-flex align-items-start' id='matrix_options_${e}_holder'>\n                              <div class='border-bottom-light col-md-6 col-12 option-container' id='matrix_option_${e}_1_holder' data-option='1'>\n                                  <div class='option col'>\n                                      <div class='mb-1'>\n                                        <label for='question[${e}][options][matrix][1]' class='form-label required'>Add a Criterion</label>\n                                        <input type='text' name='question[${e}][options][matrix][1]'  tabindex='4' id='matrix_options_${e}_1_question' class='form-control' aria-label='Answer Criterion'/>\n                                      </div>\n                                  </div>\n                                  <div class='form-inline option-answer col-12 col-md-10'>\n                                        <label for='question[${e}][correct_answer][1]' class='form-label required'>Correct Answer</label>\n                                        <input type='text' name='question[${e}][correct_answer][1]' tabindex='4' id='matrix_correct_${e}_1_answer' class='form-control' aria-label='Correct Answer'/>\n                                  </div>\n                              </div>\n                          </div>\n                          <div class='col-md-2 col-12 mb-50 mt-2' id='matrix_options_${e}_add' >\n                              <div class='mb-1'>\n                                  <button type='button' class='btn btn-outline-success btn-sm text-nowrap px-1 waves-effect' onclick='Question.AddMatrixOption(${e}, "matrix_options_${e}_holder")'>\n                                      <span><svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-plus me-50 font-small-4'><line x1='12' y1='5' x2='12' y2='19'></line><line x1='5' y1='12' x2='19' y2='12'></line></svg>Add More Options</span>\n                                  </button>\n                              </div>\n                          </div>\n                      </div>`;n.html(t)},e.showSINGLEInput=(e,n)=>{n.html("")},e.showTABLEInput=function(e,n){n.html(`\n            <div class='col-12'>\n                <div class='mb-1'>\n                    <div class='d-flex justify-content-between align-items-center mb-1'>\n                        <h5>Table Structure</h5>\n                        <div>\n                            <button type='button' class='btn btn-primary btn-sm me-1' onclick="Question.addTableCol(${e})">\n                                <svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-plus me-50 font-small-4'><line x1='12' y1='5' x2='12' y2='19'></line><line x1='5' y1='12' x2='19' y2='12'></line></svg> Add Column\n                            </button>\n                            <button type='button' class='btn btn-primary btn-sm' onclick="Question.addTableRow(${e})">\n                                <svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-plus me-50 font-small-4'><line x1='12' y1='5' x2='12' y2='19'></line><line x1='5' y1='12' x2='19' y2='12'></line></svg> Add Row\n                            </button>\n                        </div>\n                    </div>\n\n                    \x3c!-- Table Question Title Field --\x3e\n                    <div class='mb-2'>\n                        <label for='table-question-title-${e}' class='form-label'>Table Question Title (optional)</label>\n                        <input type='text'\n                                class='form-control'\n                                id='table-question-title-${e}'\n                                name='question[${e}][table_question_title]'\n                                placeholder='e.g. Questions' />\n                        <small class='text-muted'>If left empty, will default to "Question"</small>\n                    </div>\n                    \x3c!-- Input Type Selection --\x3e\n                    <div class='mb-2'>\n                        <h6>Input Type</h6>\n                        <div class="d-flex gap-2">\n                            <div class="form-check form-check-primary">\n                                <input type="checkbox" class="form-check-input input-type-checkbox" name="table-input-type-${e}"\n                                       id="radio-${e}" value="radio" checked\n                                       onchange="Question.handleInputTypeChange(this, ${e})">\n                                <label class="form-check-label" for="radio-${e}">Radio Buttons</label>\n                            </div>\n                            <div class="form-check form-check-primary">\n                                <input type="checkbox" class="form-check-input input-type-checkbox" name="table-input-type-${e}"\n                                       id="checkbox-${e}" value="checkbox"\n                                       onchange="Question.handleInputTypeChange(this, ${e})">\n                                <label class="form-check-label" for="checkbox-${e}">Checkboxes</label>\n                            </div>\n                            <div class="form-check form-check-primary">\n                                <input type="checkbox" class="form-check-input input-type-checkbox" name="table-input-type-${e}"\n                                       id="text-${e}" value="text"\n                                       onchange="Question.handleInputTypeChange(this, ${e})">\n                                <label class="form-check-label" for="text-${e}">Text Input</label>\n                            </div>\n                            <div class="form-check form-check-primary">\n                                <input type="checkbox" class="form-check-input input-type-checkbox" name="table-input-type-${e}"\n                                       id="textarea-${e}" value="textarea"\n                                       onchange="Question.handleInputTypeChange(this, ${e})">\n                                <label class="form-check-label" for="textarea-${e}">Textarea Input</label>\n                            </div>\n                        </div>\n                    </div>\n\n                    \x3c!-- Column Configuration --\x3e\n                    <div class='mb-2'>\n                        <h6>Columns</h6>\n                        <div id='table-columns-container-${e}' class='mb-2'></div>\n                    </div>\n\n                    \x3c!-- Row Configuration --\x3e\n                    <div class='mb-1'>\n                        <h6>Rows</h6>\n                        <div id='table-rows-container-${e}' class='mb-1'></div>\n                    </div>\n                    <input type='hidden' name='question[${e}][table_structure]'\n                           id='table-structure-${e}'\n                           value='{"input_type":"radio","columns":[],"rows":[],"table_question_title":""}'>\n                </div>\n            </div>\n        `)},e.AddMatrixOption=(e,n)=>{let t=$("#"+n).find(".option-container:last").data("option")??0,o=parseInt(t)+1;$("#"+n).append(`<div class='border-bottom-light col-md-6 col-12 option-container' id='matrix_option_${e}_${o}_holder' data-option='${o}'>\n                                  <div class='option col'>\n                                      <div class='mb-1'>\n                                        <label for='question[${e}][options][matrix][${o}]' class='form-label required'>Add a Criterion</label>\n                                        <input type='text' name='question[${e}][options][matrix][${o}]'  tabindex='4' id='matrix_options_${e}_${o}_question' class='form-control' aria-label='Answer Criterion'/>\n                                      </div>\n                                  </div>\n                                  <div class='form-inline option-answer'>\n                                        <label for='question[${e}][correct_answer][${o}]' class='form-label required'>Correct Answer</label>\n                                        <div class="d-flex flex-row">\n                                        <input type='text' name='question[${e}][correct_answer][${o}]' tabindex='4' id='matrix_correct_${e}_${o}_answer' class='form-control' aria-label='Correct Answer'/>\n\n                                        <button onclick='Question.RemoveOption("matrix_option_${e}_${o}_holder")'\n                                            type='button' class='btn btn-flat-danger btn-sm border-left-light end waves-effect waves-float waves-light'>\n                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2 me-50"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg> <span>Delete</span>\n                                        </button>\n                                        </div>\n                                  </div>\n                              </div>`)},e.AddSortOption=(e,n)=>{let t=$("#"+n).find(".option-container:last").data("option")??0,o=parseInt(t)+1;$("#"+n).append(`<div class='border-bottom-light col-md-6 col-12 option-container' id='sort_option_${e}_${o}_holder' data-option='${o}'>\n                                  <div class='option col'>\n                                      <div class='mb-1'>\n                                        <label for='question[${e}][options][sort][${o}]' class='form-label required'>Add an Option</label>\n\n                                        <div class="d-flex flex-row">\n                                            <input type='text' name='question[${e}][options][sort][${o}]'  tabindex='4' id='sort_options_${e}_${o}_text' class='form-control' aria-label='Option Text'/>\n                                            <button onclick='Question.RemoveOption("sort_option_${e}_${o}_holder")'\n                                                type='button' class='btn btn-flat-danger btn-sm border-left-light end waves-effect waves-float waves-light'>\n                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2 me-50"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg> <span>Delete</span>\n                                            </button>\n                                        </div>\n                                      </div>\n                                  </div>\n                              </div>`)},e.AddOption=(e,n,t="scq")=>{let o=$("#"+n).find(".option-container:last").data("option")??0,i=parseInt(o)+1;$("#"+n).append(`<div class='border-bottom-light col-md-6 col-12 option-container' data-option='${i}' id='option_${e}_${i}_holder'>\n                                    <div class='option col'>\n                                  <div class='mb-1'>\n                                    <label for='question[${e}][options][${t}][${i}]' class='form-label required'>Add an Option</label>\n                                    <input type='text' name='question[${e}][options][${t}][${i}]'  tabindex='${i}' id='${t}_options_${e}_${i}' class='form-control' aria-label='${t} option' autofocus/>\n                                  </div>\n                              </div>\n                              <div class='form-check form-check-inline option-correct col'>\n                                      <input\n                                        class='form-check-input'\n                                        type='${"mcq"===t?"checkbox":"radio"}'\n                                        name='question[${e}][correct_answer]${"mcq"===t?"["+i+"]":""}'\n                                        id='${t}_correct_${e}_${i}'\n                                        value='${i}'   tabindex='${i+1}'\n                                      />\n                                      <label class='form-check-label' for='question[${e}][correct_answer]${"mcq"===t?"["+i+"]":""}'>Is Correct?</label>\n                                        <button onclick='Question.RemoveOption("option_${e}_${i}")'\n                                            type='button' class='btn btn-flat-danger btn-sm border-left-light end waves-effect waves-float waves-light'>\n                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2 me-50"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg> <span>Delete</span>\n                                        </button>\n                                  </div>`)},e.RemoveOption=e=>{console.log("removing ",e),$("#"+e).fadeOut("slow").remove()},e.addTableCol=function(n){const t=document.getElementById(`table-columns-container-${n}`),o=t.children.length,i=document.createElement("div");i.className="row mb-1 table-column",i.innerHTML=`\n            <div class='col-10'>\n                <input type='text' class='form-control column-header'\n                       placeholder='Column Title'\n                       onchange="Question.updateTableStructure(${n})"\n                       required>\n            </div>\n            <div class='col-2'>\n                <button type='button' class='btn btn-danger btn-sm' onclick="Question.removeTableCol(${n}, ${o})">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2 me-50"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg> Remove\n                </button>\n            </div>\n        `,t.appendChild(i),e.updateTableStructure(n)},e.addTableRow=function(n){const t=document.getElementById(`table-rows-container-${n}`),o=t.children.length,i=document.createElement("div");i.className="row mb-1 table-row",i.innerHTML=`\n            <div class='col-10'>\n                <input type='text' class='form-control'\n                       placeholder='Enter row question'\n                       onchange="Question.updateTableStructure(${n})"\n                       required>\n            </div>\n            <div class='col-2'>\n                <button type='button' class='btn btn-danger btn-sm' onclick="Question.removeTableRow(${n}, ${o})">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2 me-50"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg> Remove\n                </button>\n            </div>\n        `,t.appendChild(i),e.updateTableStructure(n)},e.removeTableCol=function(n,t){const o=document.getElementById(`table-columns-container-${n}`).getElementsByClassName("table-column");o[t]&&(o[t].remove(),e.updateTableStructure(n))},e.removeTableRow=function(n,t){const o=document.getElementById(`table-rows-container-${n}`).getElementsByClassName("table-row");o[t]&&(o[t].remove(),e.updateTableStructure(n))},e.handleInputTypeChange=function(n,t){document.querySelectorAll(`input[name="table-input-type-${t}"]`).forEach((e=>{e!==n&&(e.checked=!1)})),n.checked||(n.checked=!0),e.updateTableStructure(t)},e.updateTableStructure=function(e){const n=document.querySelector(`input[name="table-input-type-${e}"]:checked`)?.value;if(!n||!["radio","checkbox","text","textarea"].includes(n))return void toastr.error("Invalid column type. Must be radio, checkbox, text or textarea.");const t={input_type:n,columns:Array.from(document.querySelectorAll(`#table-columns-container-${e} .column-header`)).map((e=>({heading:e.value.trim()}))),rows:Array.from(document.querySelectorAll(`#table-rows-container-${e} .table-row input`)).map((e=>({heading:e.value.trim()})))};document.getElementById(`table-structure-${e}`).value=JSON.stringify(t)},e}(Question||{});!function(){"use strict";var e=document.getElementById("saveQuiz");e&&e.addEventListener("click",(function(e){let n=!0;document.querySelectorAll('[id^="table-columns-container-"]').forEach((function(e){const t=e.id.replace("table-columns-container-","");Array.from(e.querySelectorAll(".column-header")).map((e=>e.value.trim())).some((e=>!e))&&(toastr.error("All columns must have a header."),n=!1);const o=document.querySelectorAll(`#table-rows-container-${t} .table-row input`);Array.from(o).map((e=>e.value.trim())).some((e=>!e))&&(toastr.error("All rows must have a value."),n=!1)})),n||e.preventDefault()}))}(window);
